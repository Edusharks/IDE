import {
  require_dart_compressed,
  require_javascript_compressed,
  require_lua_compressed,
  require_php_compressed
} from "./chunk-EUSV3ZBU.js";
import {
  require_python_compressed
} from "./chunk-EKICIPQK.js";
import {
  require_blockly_compressed
} from "./chunk-37NJYYKB.js";
import {
  __commonJS
} from "./chunk-PLDDJCW6.js";

// node_modules/@blockly/field-colour-hsv-sliders/dist/index.js
var require_dist = __commonJS({
  "node_modules/@blockly/field-colour-hsv-sliders/dist/index.js"(exports, module) {
    !(function(e, t) {
      if ("object" == typeof exports && "object" == typeof module) module.exports = t(require_blockly_compressed(), require_javascript_compressed(), require_dart_compressed(), require_lua_compressed(), require_php_compressed(), require_python_compressed());
      else if ("function" == typeof define && define.amd) define(["blockly/core", "blockly/javascript", "blockly/dart", "blockly/lua", "blockly/php", "blockly/python"], t);
      else {
        var r = "object" == typeof exports ? t(require_blockly_compressed(), require_javascript_compressed(), require_dart_compressed(), require_lua_compressed(), require_php_compressed(), require_python_compressed()) : t(e.Blockly, e["Blockly.JavaScript"], e["Blockly.Dart"], e["Blockly.Lua"], e["Blockly.PHP"], e["Blockly.Python"]);
        for (var o in r) ("object" == typeof exports ? exports : e)[o] = r[o];
      }
    })(exports, (e, t, r, o, n, i) => (() => {
      var s = { 127: (e2) => {
        "use strict";
        e2.exports = t;
      }, 157: (e2) => {
        "use strict";
        e2.exports = o;
      }, 370: (t2) => {
        "use strict";
        t2.exports = e;
      }, 379: (e2) => {
        "use strict";
        e2.exports = r;
      }, 537: (e2) => {
        "use strict";
        e2.exports = n;
      }, 557: (e2) => {
        "use strict";
        e2.exports = i;
      }, 594: function(e2, t2, r2) {
        var o2;
        o2 = (e3, t3, r3, o3, n2, i2) => (() => {
          var s2 = { 127: (e4) => {
            "use strict";
            e4.exports = t3;
          }, 157: (e4) => {
            "use strict";
            e4.exports = o3;
          }, 370: (t4) => {
            "use strict";
            t4.exports = e3;
          }, 379: (e4) => {
            "use strict";
            e4.exports = r3;
          }, 462: function(e4, t4, r4) {
            var o4;
            o4 = (e5) => (() => {
              "use strict";
              var t5 = { 370: (t6) => {
                t6.exports = e5;
              } }, r5 = {};
              function o5(e6) {
                var n4 = r5[e6];
                if (void 0 !== n4) return n4.exports;
                var i4 = r5[e6] = { exports: {} };
                return t5[e6](i4, i4.exports, o5), i4.exports;
              }
              o5.d = (e6, t6) => {
                for (var r6 in t6) o5.o(t6, r6) && !o5.o(e6, r6) && Object.defineProperty(e6, r6, { enumerable: true, get: t6[r6] });
              }, o5.o = (e6, t6) => Object.prototype.hasOwnProperty.call(e6, t6), o5.r = (e6) => {
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e6, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e6, "__esModule", { value: true });
              };
              var n3 = {};
              o5.r(n3), o5.d(n3, { FieldGridDropdown: () => a3 });
              var i3 = o5(370);
              class s3 {
                constructor(e6, t6, r6, o6) {
                  this.value = r6, this.selected = false, this.selectionCallback = o6, this.element = document.createElement("button"), this.element.id = i3.utils.idGenerator.getNextUniqueId(), this.element.className = "blocklyFieldGridItem", this.clickHandler = i3.browserEvents.conditionalBind(this.element, "click", this, this.onClick, true), e6.appendChild(this.element);
                  const n4 = "string" == typeof t6 ? document.createTextNode(t6) : t6;
                  this.element.appendChild(n4), i3.utils.aria.setRole(this.element, i3.utils.aria.Role.GRIDCELL);
                }
                dispose() {
                  this.selectionCallback = null, this.element.remove(), this.clickHandler && (i3.browserEvents.unbind(this.clickHandler), this.clickHandler = null);
                }
                getId() {
                  return this.element.id;
                }
                getValue() {
                  return this.value;
                }
                isSelected() {
                  return this.selected;
                }
                setSelected(e6) {
                  this.selected = e6, i3.utils.aria.setState(this.element, i3.utils.aria.State.SELECTED, this.selected), this.element.classList.toggle("blocklyFieldGridItemSelected", this.selected), this.isSelected() && this.focus();
                }
                onClick() {
                  var e6;
                  this.setSelected(true), null === (e6 = this.selectionCallback) || void 0 === e6 || e6.call(this, this);
                }
                focus() {
                  this.element.focus({ preventScroll: true });
                  const e6 = this.element.offsetParent;
                  if (!e6) return;
                  const t6 = this.element.offsetTop, r6 = e6.scrollTop, o6 = this.getInterItemSpacing();
                  t6 < r6 ? e6.scrollTo(0, t6 - o6) : t6 + this.element.offsetHeight > r6 + e6.clientHeight && e6.scrollBy(0, t6 + this.element.clientHeight - (r6 + e6.clientHeight) + o6);
                }
                getInterItemSpacing() {
                  const e6 = this.element.closest(".blocklyFieldGrid");
                  if (!e6) return 0;
                  const t6 = [...e6.querySelectorAll(".blocklyFieldGridItem")];
                  if (!t6.length) return 0;
                  const r6 = t6[0].offsetTop, o6 = t6[0].offsetHeight;
                  for (const e7 of t6) if (e7.offsetTop !== r6) return e7.offsetTop - o6 - r6;
                  return 0;
                }
              }
              class l3 {
                constructor(e6, t6, r6, o6, n4) {
                  if (this.columns = r6, this.rtl = o6, this.itemIndices = /* @__PURE__ */ new Map(), this.items = new Array(), this.keyDownHandler = null, this.pointerMoveHandler = null, this.selectionCallback = n4, this.root = document.createElement("div"), this.root.className = "blocklyFieldGrid", this.root.tabIndex = 0, i3.utils.aria.setRole(this.root, i3.utils.aria.Role.GRID), e6.appendChild(this.root), this.populateItems(t6), this.keyDownHandler = i3.browserEvents.conditionalBind(this.root, "keydown", this, this.onKeyDown), this.pointerMoveHandler = i3.browserEvents.conditionalBind(this.root, "pointermove", this, this.onPointerMove, true), !(r6 >= 1)) throw new Error(`Number of columns must be >= 1; got ${r6}`);
                  this.columns = r6, this.root.style.setProperty("--grid-columns", `${this.columns}`);
                }
                populateItems(e6) {
                  let t6 = document.createElement("div");
                  for (const [r6, o6] of e6.entries()) {
                    if (o6 === i3.FieldDropdown.SEPARATOR) continue;
                    r6 % this.columns === 0 && (t6 = document.createElement("div"), t6.className = "blocklyFieldGridRow", i3.utils.aria.setRole(t6, i3.utils.aria.Role.ROW), this.root.appendChild(t6));
                    const [e7, n4] = o6, l4 = (() => {
                      if ((t7 = e7) && "object" == typeof t7 && "src" in t7 && "string" == typeof t7.src && "alt" in t7 && "string" == typeof t7.alt && "width" in t7 && "number" == typeof t7.width && "height" in t7 && "number" == typeof t7.height) {
                        const t8 = new Image(e7.width, e7.height);
                        return t8.src = e7.src, t8.alt = e7.alt || "", t8;
                      }
                      var t7;
                      return e7;
                    })(), a4 = new s3(t6, l4, n4, (e8) => {
                      var t7;
                      this.setSelectedValue(e8.getValue()), null === (t7 = this.selectionCallback) || void 0 === t7 || t7.call(this, e8);
                    });
                    this.itemIndices.set(a4.getId(), this.itemIndices.size), this.items.push(a4);
                  }
                }
                dispose() {
                  this.selectionCallback = void 0;
                  for (const e6 of this.items) e6.dispose();
                  this.itemIndices.clear(), this.items.length = 0, this.keyDownHandler && (i3.browserEvents.unbind(this.keyDownHandler), this.keyDownHandler = null), this.pointerMoveHandler && (i3.browserEvents.unbind(this.pointerMoveHandler), this.pointerMoveHandler = null), this.root.remove();
                }
                onKeyDown(e6) {
                  if (!(!this.items.length || e6.shiftKey || e6.ctrlKey || e6.metaKey || e6.altKey)) {
                    switch (e6.key) {
                      case "ArrowUp":
                        this.moveFocus(-1 * this.columns, true);
                        break;
                      case "ArrowDown":
                        this.moveFocus(this.columns, true);
                        break;
                      case "ArrowLeft":
                        this.moveFocus(-1 * (this.rtl ? -1 : 1), true);
                        break;
                      case "ArrowRight":
                        this.moveFocus(1 * (this.rtl ? -1 : 1), true);
                        break;
                      case "PageUp":
                      case "Home":
                        this.moveFocus(0, false);
                        break;
                      case "PageDown":
                      case "End":
                        this.moveFocus(this.items.length - 1, false);
                        break;
                      case "Enter":
                      case "Space":
                        return void e6.stopPropagation();
                      default:
                        return;
                    }
                    e6.preventDefault(), e6.stopPropagation();
                  }
                }
                onPointerMove(e6) {
                  if (!e6.movementX && !e6.movementY || !(e6.target instanceof Element)) return;
                  const t6 = e6.target.closest(".blocklyFieldGridItem");
                  if (!t6) return;
                  const r6 = t6.id, o6 = this.itemIndices.get(r6);
                  void 0 !== o6 && this.moveFocus(o6, false);
                }
                setSelectedValue(e6) {
                  for (const [t6, r6] of this.items.entries()) {
                    const o6 = r6.getValue() === e6;
                    r6.setSelected(o6), o6 && this.moveFocus(t6, false);
                  }
                }
                moveFocus(e6, t6) {
                  let r6 = e6;
                  if (t6) {
                    const e7 = this.getFocusedItem();
                    if (!e7) return;
                    r6 += this.indexOfItem(e7);
                  }
                  const o6 = this.itemAtIndex(r6);
                  o6 && (o6.focus(), i3.utils.aria.setState(this.root, i3.utils.aria.State.ACTIVEDESCENDANT, o6.getId()));
                }
                indexOfItem(e6) {
                  var t6;
                  return null !== (t6 = this.itemIndices.get(e6.getId())) && void 0 !== t6 ? t6 : -1;
                }
                itemAtIndex(e6) {
                  return this.items[e6];
                }
                getFocusedItem() {
                  var e6;
                  const t6 = null !== (e6 = this.root.querySelector(".blocklyFieldGridItem:focus")) && void 0 !== e6 ? e6 : this.root.querySelector(".blocklyFieldGridItem");
                  if (!t6 || !t6.id) return;
                  const r6 = this.itemIndices.get(t6.id);
                  return void 0 !== r6 ? this.itemAtIndex(r6) : void 0;
                }
              }
              class a3 extends i3.FieldDropdown {
                constructor(e6, t6, r6) {
                  super(e6, t6, r6), this.columns = 3, (null == r6 ? void 0 : r6.columns) && this.setColumns(parseInt(`${r6.columns}`)), r6 && r6.primaryColour && (this.primaryColour = r6.primaryColour), r6 && r6.borderColour && (this.borderColour = r6.borderColour);
                }
                static fromJson(e6) {
                  if (!e6.options) throw new Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");
                  return new this(e6.options, void 0, e6);
                }
                setColumns(e6) {
                  var t6;
                  !isNaN(e6) && e6 >= 1 && (this.columns = e6, i3.DropDownDiv.getOwner() === this && i3.DropDownDiv.isVisible() && (null === (t6 = this.grid) || void 0 === t6 || t6.dispose(), this.showEditor_()));
                }
                showEditor_(e6) {
                  var t6;
                  i3.DropDownDiv.clearContent();
                  const r6 = !!(null === (t6 = this.getSourceBlock()) || void 0 === t6 ? void 0 : t6.workspace.RTL);
                  this.grid = new l3(i3.DropDownDiv.getContentDiv(), this.getOptions(false), this.columns, r6, (e7) => {
                    i3.DropDownDiv.hideIfOwner(this), this.setValue(e7.getValue());
                  }), i3.DropDownDiv.getContentDiv().classList.add("blocklyFieldGridContainer");
                  const o6 = this.getColours();
                  o6 && o6.border && i3.DropDownDiv.setColour(o6.primary, o6.border), i3.DropDownDiv.showPositionedByField(this, this.dropdownDispose_.bind(this));
                  const n4 = this.getValue();
                  n4 && this.grid.setSelectedValue(n4);
                }
                doValueUpdate_(e6) {
                  var t6;
                  super.doValueUpdate_(e6), null === (t6 = this.grid) || void 0 === t6 || t6.setSelectedValue(e6);
                }
                getColours() {
                  var e6, t6;
                  if (this.primaryColour && this.borderColour) return { primary: this.primaryColour, border: this.borderColour };
                  const r6 = this.getSourceBlock();
                  if (!(r6 instanceof i3.BlockSvg)) return;
                  const o6 = r6.isShadow() ? r6.getParent() : r6;
                  return o6 ? { primary: null !== (e6 = this.primaryColour) && void 0 !== e6 ? e6 : o6.getColour(), border: null !== (t6 = this.borderColour) && void 0 !== t6 ? t6 : o6.getColourTertiary() } : void 0;
                }
              }
              return i3.fieldRegistry.register("field_grid_dropdown", a3), i3.Css.register("\n   .blocklyFieldGridContainer {\n     padding: 7px;\n     overflow: auto;\n   }\n   \n  .blocklyFieldGrid {\n    display: grid;\n    grid-gap: 7px;\n    grid-template-columns: repeat(var(--grid-columns), min-content);\n  }\n\n .blocklyFieldGrid .blocklyFieldGridItem {\n   border: 1px solid rgba(1, 1, 1, 0.5);\n   border-radius: 4px;\n   color: white;\n   min-width: auto;\n   background: none;\n   white-space: nowrap;\n   cursor: pointer;\n   padding: 6px 15px;\n }\n \n .blocklyFieldGrid .blocklyFieldGridRow {\n   display: contents;\n }\n \n .blocklyFieldGrid .blocklyFieldGridItem.blocklyFieldGridItemSelected {\n   background-color: rgba(1, 1, 1, 0.25);\n }\n\n .blocklyFieldGrid .blocklyFieldGridItem:focus {\n   box-shadow: 0 0 0 4px hsla(0, 0%, 100%, .2);\n   outline: none;\n }\n "), n3;
            })(), e4.exports = o4(r4(370));
          }, 537: (e4) => {
            "use strict";
            e4.exports = n2;
          }, 557: (e4) => {
            "use strict";
            e4.exports = i2;
          } }, l2 = {};
          function a2(e4) {
            var t4 = l2[e4];
            if (void 0 !== t4) return t4.exports;
            var r4 = l2[e4] = { exports: {} };
            return s2[e4].call(r4.exports, r4, r4.exports, a2), r4.exports;
          }
          a2.d = (e4, t4) => {
            for (var r4 in t4) a2.o(t4, r4) && !a2.o(e4, r4) && Object.defineProperty(e4, r4, { enumerable: true, get: t4[r4] });
          }, a2.o = (e4, t4) => Object.prototype.hasOwnProperty.call(e4, t4), a2.r = (e4) => {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e4, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e4, "__esModule", { value: true });
          };
          var d2 = {};
          return (() => {
            "use strict";
            a2.r(d2), a2.d(d2, { FieldColour: () => l3, colourBlend: () => o4, colourPicker: () => e4, colourRandom: () => t4, colourRgb: () => r4, installAllBlocks: () => oe, registerFieldColour: () => c });
            var e4 = {};
            a2.r(e4), a2.d(e4, { BLOCK_NAME: () => m, blockDefinition: () => y, installBlock: () => k, toDart: () => O, toJavascript: () => _, toLua: () => C, toPhp: () => E, toPython: () => x });
            var t4 = {};
            a2.r(t4), a2.d(t4, { BLOCK_NAME: () => R, blockDefinition: () => $, installBlock: () => B, toDart: () => T, toJavascript: () => L, toLua: () => N, toPhp: () => D, toPython: () => F });
            var r4 = {};
            a2.r(r4), a2.d(r4, { BLOCK_NAME: () => U, blockDefinition: () => K, installBlock: () => q, toDart: () => M, toJavascript: () => H, toLua: () => P, toPhp: () => G, toPython: () => V });
            var o4 = {};
            a2.r(o4), a2.d(o4, { BLOCK_NAME: () => Y, blockDefinition: () => te, installBlock: () => re, toDart: () => z, toJavascript: () => W, toLua: () => Q, toPhp: () => J, toPython: () => Z });
            var n3 = a2(370), i3 = a2(462);
            const s3 = ["#ffffff", "#cccccc", "#c0c0c0", "#999999", "#666666", "#333333", "#000000", "#ffcccc", "#ff6666", "#ff0000", "#cc0000", "#990000", "#660000", "#330000", "#ffcc99", "#ff9966", "#ff9900", "#ff6600", "#cc6600", "#993300", "#663300", "#ffff99", "#ffff66", "#ffcc66", "#ffcc33", "#cc9933", "#996633", "#663333", "#ffffcc", "#ffff33", "#ffff00", "#ffcc00", "#999900", "#666600", "#333300", "#99ff99", "#66ff99", "#33ff33", "#33cc00", "#009900", "#006600", "#003300", "#99ffff", "#33ffff", "#66cccc", "#00cccc", "#339999", "#336666", "#003333", "#ccffff", "#66ffff", "#33ccff", "#3366ff", "#3333ff", "#000099", "#000066", "#ccccff", "#9999ff", "#6666cc", "#6633ff", "#6600cc", "#333399", "#330099", "#ffccff", "#ff99ff", "#cc66cc", "#cc33cc", "#993399", "#663366", "#330033"];
            class l3 extends i3.FieldGridDropdown {
              constructor(e5, t5, r5) {
                var o5, i4;
                super(u(null !== (o5 = null == r5 ? void 0 : r5.colourOptions) && void 0 !== o5 ? o5 : s3), t5, Object.assign(Object.assign({}, r5), { columns: null !== (i4 = null == r5 ? void 0 : r5.columns) && void 0 !== i4 ? i4 : 7 })), this.isDirty_ = false, e5 !== n3.Field.SKIP_SETUP && this.setValue(e5);
              }
              trimOptions(e5) {
                return { options: e5 };
              }
              configure_(e5) {
                super.configure_(e5), e5.colourOptions && this.setColours(e5.colourOptions, e5.colourTitles);
              }
              initView() {
                const e5 = this.getConstants();
                if (!e5) throw Error("Constants not found");
                this.size_ = new n3.utils.Size(e5.FIELD_COLOUR_DEFAULT_WIDTH, e5.FIELD_COLOUR_DEFAULT_HEIGHT), this.createBorderRect_(), this.getBorderRect().style.fillOpacity = "1", this.getBorderRect().setAttribute("stroke", "#fff"), this.isFullBlockField() && (this.clickTarget_ = this.sourceBlock_.getSvgRoot());
              }
              showEditor_(e5) {
                super.showEditor_(e5), n3.DropDownDiv.getContentDiv().classList.add("blocklyFieldColour"), n3.DropDownDiv.repositionForWindowResize();
              }
              isFullBlockField() {
                if (!this.getSourceBlock()) throw new n3.UnattachedFieldError();
                const e5 = this.getConstants();
                return this.blockIsSimpleReporter() && Boolean(null == e5 ? void 0 : e5.FIELD_COLOUR_FULL_BLOCK);
              }
              blockIsSimpleReporter() {
                const e5 = this.getSourceBlock();
                if (!e5) throw new n3.UnattachedFieldError();
                if (!e5.outputConnection) return false;
                for (const t5 of e5.inputList) if (t5.connection || t5.fieldRow.length > 1) return false;
                return true;
              }
              applyColour() {
                const e5 = this.getSourceBlock();
                if (!e5) throw new n3.UnattachedFieldError();
                if (!this.fieldGroup_) return;
                const t5 = this.borderRect_;
                if (!t5) throw new Error("The border rect has not been initialized");
                this.isFullBlockField() ? (t5.style.display = "none", e5.pathObject.svgPath.setAttribute("fill", this.getValue()), e5.pathObject.svgPath.setAttribute("stroke", "#fff")) : (t5.style.display = "block", t5.style.fill = this.getValue());
              }
              getSize() {
                var e5;
                return (null === (e5 = this.getConstants()) || void 0 === e5 ? void 0 : e5.FIELD_COLOUR_FULL_BLOCK) && (this.render_(), this.isDirty_ = false), super.getSize();
              }
              render_() {
                this.updateSize_();
                const e5 = this.getSourceBlock();
                if (!e5) throw new n3.UnattachedFieldError();
                e5.applyColour();
              }
              updateSize_(e5) {
                const t5 = this.getConstants();
                if (!t5) return;
                let r5, o5;
                this.isFullBlockField() ? (r5 = 2 * (null != e5 ? e5 : 0), o5 = t5.FIELD_TEXT_HEIGHT) : (r5 = t5.FIELD_COLOUR_DEFAULT_WIDTH, o5 = t5.FIELD_COLOUR_DEFAULT_HEIGHT), this.size_.height = o5, this.size_.width = r5, this.positionBorderRect_();
              }
              doClassValidation_(e5) {
                return "string" != typeof e5 ? null : n3.utils.colour.parse(e5);
              }
              getText() {
                let e5 = this.value_;
                return /^#(.)\1(.)\2(.)\3$/.test(e5) && (e5 = "#" + e5[1] + e5[3] + e5[5]), e5;
              }
              setColours(e5, t5) {
                const r5 = u(e5, t5);
                return this.setOptions(r5), this;
              }
              static fromJson(e5) {
                return new this(e5.colour, void 0, e5);
              }
            }
            function u(e5, t5) {
              return e5.map((e6, r5) => {
                const o5 = document.createElement("div");
                return o5.className = "blocklyColourSwatch", o5.style.backgroundColor = e6, t5 && r5 < t5.length && (o5.title = t5[r5]), [o5, e6];
              });
            }
            function c() {
              n3.fieldRegistry.register("field_colour", l3);
            }
            l3.prototype.DEFAULT_VALUE = "#ffffff", n3.Css.register("\n.blocklyFieldColour .blocklyFieldGridItemSelected,\n.blocklyFieldGridItemSelected:hover {\n  border-color: #eee !important;\n  outline: 1px solid #333;\n  position: relative;\n}\n\n.blocklyColourSwatch {\n  width: 20px;\n  height: 20px;\n}\n\n.blocklyGridContainer {\n  padding: 0px;\n}\n\n.blocklyFieldColour .blocklyFieldGrid {\n  grid-gap: 0px;\n  row-gap: 4px;\n}\n\n.blocklyFieldColour .blocklyFieldGrid .blocklyGridItem {\n  border-radius: 0;\n  padding: 0;\n  border: 0.5px solid #888;\n  cursor: pointer;\n}\n\n.blocklyFieldColour .blocklyFieldGrid .blocklyFieldGridItem {\n  border: 0.5px solid #888;\n  padding: 0;\n  margin: 0;\n  border-radius: 0;\n}\n\n.blocklyFieldColour .blocklyFieldGrid .blocklyFieldGridItem:focus {\n  border-color: #eee;\n  box-shadow: 2px 2px 7px 2px rgba(0, 0, 0, 0.3);\n  position: relative;\n  border-radius: 0;\n  outline: none;\n}\n");
            var h = a2(127), p = a2(379), b = a2(157), g = a2(537), f = a2(557);
            const m = "colour_picker", v = { type: m, message0: "%1", args0: [{ type: "field_colour", name: "COLOUR", colour: "#ff0000" }], output: "Colour", helpUrl: "%{BKY_COLOUR_PICKER_HELPURL}", style: "colour_blocks", tooltip: "%{BKY_COLOUR_PICKER_TOOLTIP}", extensions: ["parent_tooltip_when_inline"] };
            function _(e5, t5) {
              return [t5.quote_(e5.getFieldValue("COLOUR")), h.Order.ATOMIC];
            }
            function O(e5, t5) {
              return [t5.quote_(e5.getFieldValue("COLOUR")), p.Order.ATOMIC];
            }
            function C(e5, t5) {
              return [t5.quote_(e5.getFieldValue("COLOUR")), b.Order.ATOMIC];
            }
            function E(e5, t5) {
              return [t5.quote_(e5.getFieldValue("COLOUR")), g.Order.ATOMIC];
            }
            function x(e5, t5) {
              return [t5.quote_(e5.getFieldValue("COLOUR")), f.Order.ATOMIC];
            }
            const S = n3.common.createBlockDefinitionsFromJsonArray([v]), y = S[m];
            function k(e5 = {}) {
              c(), n3.common.defineBlocks(S), e5.javascript && (e5.javascript.forBlock[m] = _), e5.dart && (e5.dart.forBlock[m] = O), e5.lua && (e5.lua.forBlock[m] = C), e5.php && (e5.php.forBlock[m] = E), e5.python && (e5.python.forBlock[m] = x);
            }
            const R = "colour_random", I = { type: R, message0: "%{BKY_COLOUR_RANDOM_TITLE}", output: "Colour", helpUrl: "%{BKY_COLOUR_RANDOM_HELPURL}", style: "colour_blocks", tooltip: "%{BKY_COLOUR_RANDOM_TOOLTIP}" };
            function L(e5, t5) {
              return [t5.provideFunction_("colourRandom", `
function ${t5.FUNCTION_NAME_PLACEHOLDER_}() {
  var num = Math.floor(Math.random() * 0x1000000);
  return '#' + ('00000' + num.toString(16)).substr(-6);
}
`) + "()", h.Order.FUNCTION_CALL];
            }
            function T(e5, t5) {
              return t5.definitions_.import_dart_math = "import 'dart:math' as Math;", [t5.provideFunction_("colour_random", `
String ${t5.FUNCTION_NAME_PLACEHOLDER_}() {
  String hex = '0123456789abcdef';
  var rnd = new Math.Random();
  return '#\${hex[rnd.nextInt(16)]}\${hex[rnd.nextInt(16)]}'
      '\${hex[rnd.nextInt(16)]}\${hex[rnd.nextInt(16)]}'
      '\${hex[rnd.nextInt(16)]}\${hex[rnd.nextInt(16)]}';
}
`) + "()", p.Order.UNARY_POSTFIX];
            }
            function N(e5, t5) {
              return ['string.format("#%06x", math.random(0, 2^24 - 1))', b.Order.HIGH];
            }
            function D(e5, t5) {
              return [t5.provideFunction_("colour_random", `
function ${t5.FUNCTION_NAME_PLACEHOLDER_}() {
  return '#' . str_pad(dechex(mt_rand(0, 0xFFFFFF)), 6, '0', STR_PAD_LEFT);
}
`) + "()", g.Order.FUNCTION_CALL];
            }
            function F(e5, t5) {
              return t5.definitions_.import_random = "import random", ["'#%06x' % random.randint(0, 2**24 - 1)", f.Order.FUNCTION_CALL];
            }
            const w = n3.common.createBlockDefinitionsFromJsonArray([I]), $ = w[R];
            function B(e5 = {}) {
              c(), n3.common.defineBlocks(w), e5.javascript && (e5.javascript.forBlock[R] = L), e5.dart && (e5.dart.forBlock[R] = T), e5.lua && (e5.lua.forBlock[R] = N), e5.php && (e5.php.forBlock[R] = D), e5.python && (e5.python.forBlock[R] = F);
            }
            const U = "colour_rgb", A = { type: U, message0: "%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3", args0: [{ type: "input_value", name: "RED", check: "Number", align: "RIGHT" }, { type: "input_value", name: "GREEN", check: "Number", align: "RIGHT" }, { type: "input_value", name: "BLUE", check: "Number", align: "RIGHT" }], output: "Colour", helpUrl: "%{BKY_COLOUR_RGB_HELPURL}", style: "colour_blocks", tooltip: "%{BKY_COLOUR_RGB_TOOLTIP}" };
            function H(e5, t5) {
              const r5 = t5.valueToCode(e5, "RED", h.Order.NONE) || 0, o5 = t5.valueToCode(e5, "GREEN", h.Order.NONE) || 0, n4 = t5.valueToCode(e5, "BLUE", h.Order.NONE) || 0;
              return [`${t5.provideFunction_("colourRgb", `
function ${t5.FUNCTION_NAME_PLACEHOLDER_}(r, g, b) {
  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;
  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;
  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;
  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);
  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);
  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`)}(${r5}, ${o5}, ${n4})`, h.Order.FUNCTION_CALL];
            }
            function M(e5, t5) {
              const r5 = t5.valueToCode(e5, "RED", p.Order.NONE) || 0, o5 = t5.valueToCode(e5, "GREEN", p.Order.NONE) || 0, n4 = t5.valueToCode(e5, "BLUE", p.Order.NONE) || 0;
              return t5.definitions_.import_dart_math = "import 'dart:math' as Math;", [`${t5.provideFunction_("colour_rgb", `
String ${t5.FUNCTION_NAME_PLACEHOLDER_}(num r, num g, num b) {
  num rn = (Math.max(Math.min(r, 100), 0) * 2.55).round();
  String rs = rn.toInt().toRadixString(16);
  rs = '0$rs';
  rs = rs.substring(rs.length - 2);
  num gn = (Math.max(Math.min(g, 100), 0) * 2.55).round();
  String gs = gn.toInt().toRadixString(16);
  gs = '0$gs';
  gs = gs.substring(gs.length - 2);
  num bn = (Math.max(Math.min(b, 100), 0) * 2.55).round();
  String bs = bn.toInt().toRadixString(16);
  bs = '0$bs';
  bs = bs.substring(bs.length - 2);
  return '#$rs$gs$bs';
}
`)}(${r5}, ${o5}, ${n4})`, p.Order.UNARY_POSTFIX];
            }
            function P(e5, t5) {
              return [`${t5.provideFunction_("colour_rgb", `
function ${t5.FUNCTION_NAME_PLACEHOLDER_}(r, g, b)
  r = math.floor(math.min(100, math.max(0, r)) * 2.55 + .5)
  g = math.floor(math.min(100, math.max(0, g)) * 2.55 + .5)
  b = math.floor(math.min(100, math.max(0, b)) * 2.55 + .5)
  return string.format("#%02x%02x%02x", r, g, b)
end
`)}(${t5.valueToCode(e5, "RED", b.Order.NONE) || 0}, ${t5.valueToCode(e5, "GREEN", b.Order.NONE) || 0}, ${t5.valueToCode(e5, "BLUE", b.Order.NONE) || 0})`, b.Order.HIGH];
            }
            function G(e5, t5) {
              const r5 = t5.valueToCode(e5, "RED", g.Order.NONE) || 0, o5 = t5.valueToCode(e5, "GREEN", g.Order.NONE) || 0, n4 = t5.valueToCode(e5, "BLUE", g.Order.NONE) || 0;
              return [`${t5.provideFunction_("colour_rgb", `
function ${t5.FUNCTION_NAME_PLACEHOLDER_}($r, $g, $b) {
  $r = round(max(min($r, 100), 0) * 2.55);
  $g = round(max(min($g, 100), 0) * 2.55);
  $b = round(max(min($b, 100), 0) * 2.55);
  $hex = '#';
  $hex .= str_pad(dechex($r), 2, '0', STR_PAD_LEFT);
  $hex .= str_pad(dechex($g), 2, '0', STR_PAD_LEFT);
  $hex .= str_pad(dechex($b), 2, '0', STR_PAD_LEFT);
  return $hex;
}
`)}(${r5}, ${o5}, ${n4})`, g.Order.FUNCTION_CALL];
            }
            function V(e5, t5) {
              return [t5.provideFunction_("colour_rgb", `
def ${t5.FUNCTION_NAME_PLACEHOLDER_}(r, g, b):
  r = round(min(100, max(0, r)) * 2.55)
  g = round(min(100, max(0, g)) * 2.55)
  b = round(min(100, max(0, b)) * 2.55)
  return '#%02x%02x%02x' % (r, g, b)
`) + "(" + (t5.valueToCode(e5, "RED", f.Order.NONE) || 0) + ", " + (t5.valueToCode(e5, "GREEN", f.Order.NONE) || 0) + ", " + (t5.valueToCode(e5, "BLUE", f.Order.NONE) || 0) + ")", f.Order.FUNCTION_CALL];
            }
            const j = n3.common.createBlockDefinitionsFromJsonArray([A]), K = j[U];
            function q(e5 = {}) {
              c(), n3.common.defineBlocks(j), e5.javascript && (e5.javascript.forBlock[U] = H), e5.dart && (e5.dart.forBlock[U] = M, e5.dart.addReservedWords("Math")), e5.lua && (e5.lua.forBlock[U] = P), e5.php && (e5.php.forBlock[U] = G), e5.python && (e5.python.forBlock[U] = V);
            }
            const Y = "colour_blend", X = { type: Y, message0: "%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3", args0: [{ type: "input_value", name: "COLOUR1", check: "Colour", align: "RIGHT" }, { type: "input_value", name: "COLOUR2", check: "Colour", align: "RIGHT" }, { type: "input_value", name: "RATIO", check: "Number", align: "RIGHT" }], output: "Colour", helpUrl: "%{BKY_COLOUR_BLEND_HELPURL}", style: "colour_blocks", tooltip: "%{BKY_COLOUR_BLEND_TOOLTIP}" };
            function W(e5, t5) {
              const r5 = t5.valueToCode(e5, "COLOUR1", h.Order.NONE) || "'#000000'", o5 = t5.valueToCode(e5, "COLOUR2", h.Order.NONE) || "'#000000'", n4 = t5.valueToCode(e5, "RATIO", h.Order.NONE) || 0.5;
              return [`${t5.provideFunction_("colourBlend", `
function ${t5.FUNCTION_NAME_PLACEHOLDER_}(c1, c2, ratio) {
  ratio = Math.max(Math.min(Number(ratio), 1), 0);
  var r1 = parseInt(c1.substring(1, 3), 16);
  var g1 = parseInt(c1.substring(3, 5), 16);
  var b1 = parseInt(c1.substring(5, 7), 16);
  var r2 = parseInt(c2.substring(1, 3), 16);
  var g2 = parseInt(c2.substring(3, 5), 16);
  var b2 = parseInt(c2.substring(5, 7), 16);
  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);
  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);
  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);
  r = ('0' + (r || 0).toString(16)).slice(-2);
  g = ('0' + (g || 0).toString(16)).slice(-2);
  b = ('0' + (b || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`)}(${r5}, ${o5}, ${n4})`, h.Order.FUNCTION_CALL];
            }
            function z(e5, t5) {
              const r5 = t5.valueToCode(e5, "COLOUR1", p.Order.NONE) || "'#000000'", o5 = t5.valueToCode(e5, "COLOUR2", p.Order.NONE) || "'#000000'", n4 = t5.valueToCode(e5, "RATIO", p.Order.NONE) || 0.5;
              return t5.definitions_.import_dart_math = "import 'dart:math' as Math;", [`${t5.provideFunction_("colour_blend", `
String ${t5.FUNCTION_NAME_PLACEHOLDER_}(String c1, String c2, num ratio) {
  ratio = Math.max(Math.min(ratio, 1), 0);
  int r1 = int.parse('0x\${c1.substring(1, 3)}');
  int g1 = int.parse('0x\${c1.substring(3, 5)}');
  int b1 = int.parse('0x\${c1.substring(5, 7)}');
  int r2 = int.parse('0x\${c2.substring(1, 3)}');
  int g2 = int.parse('0x\${c2.substring(3, 5)}');
  int b2 = int.parse('0x\${c2.substring(5, 7)}');
  num rn = (r1 * (1 - ratio) + r2 * ratio).round();
  String rs = rn.toInt().toRadixString(16);
  num gn = (g1 * (1 - ratio) + g2 * ratio).round();
  String gs = gn.toInt().toRadixString(16);
  num bn = (b1 * (1 - ratio) + b2 * ratio).round();
  String bs = bn.toInt().toRadixString(16);
  rs = '0$rs';
  rs = rs.substring(rs.length - 2);
  gs = '0$gs';
  gs = gs.substring(gs.length - 2);
  bs = '0$bs';
  bs = bs.substring(bs.length - 2);
  return '#$rs$gs$bs';
}
`)}(${r5}, ${o5}, ${n4})`, p.Order.UNARY_POSTFIX];
            }
            function Q(e5, t5) {
              return [`${t5.provideFunction_("colour_blend", `
function ${t5.FUNCTION_NAME_PLACEHOLDER_}(colour1, colour2, ratio)
  local r1 = tonumber(string.sub(colour1, 2, 3), 16)
  local r2 = tonumber(string.sub(colour2, 2, 3), 16)
  local g1 = tonumber(string.sub(colour1, 4, 5), 16)
  local g2 = tonumber(string.sub(colour2, 4, 5), 16)
  local b1 = tonumber(string.sub(colour1, 6, 7), 16)
  local b2 = tonumber(string.sub(colour2, 6, 7), 16)
  local ratio = math.min(1, math.max(0, ratio))
  local r = math.floor(r1 * (1 - ratio) + r2 * ratio + .5)
  local g = math.floor(g1 * (1 - ratio) + g2 * ratio + .5)
  local b = math.floor(b1 * (1 - ratio) + b2 * ratio + .5)
  return string.format("#%02x%02x%02x", r, g, b)
end
`)}(${t5.valueToCode(e5, "COLOUR1", b.Order.NONE) || "'#000000'"}, ${t5.valueToCode(e5, "COLOUR2", b.Order.NONE) || "'#000000'"}, ${t5.valueToCode(e5, "RATIO", b.Order.NONE) || 0})`, b.Order.HIGH];
            }
            function J(e5, t5) {
              const r5 = t5.valueToCode(e5, "COLOUR1", g.Order.NONE) || "'#000000'", o5 = t5.valueToCode(e5, "COLOUR2", g.Order.NONE) || "'#000000'", n4 = t5.valueToCode(e5, "RATIO", g.Order.NONE) || 0.5;
              return [`${t5.provideFunction_("colour_blend", `
function ${t5.FUNCTION_NAME_PLACEHOLDER_}($c1, $c2, $ratio) {
  $ratio = max(min($ratio, 1), 0);
  $r1 = hexdec(substr($c1, 1, 2));
  $g1 = hexdec(substr($c1, 3, 2));
  $b1 = hexdec(substr($c1, 5, 2));
  $r2 = hexdec(substr($c2, 1, 2));
  $g2 = hexdec(substr($c2, 3, 2));
  $b2 = hexdec(substr($c2, 5, 2));
  $r = round($r1 * (1 - $ratio) + $r2 * $ratio);
  $g = round($g1 * (1 - $ratio) + $g2 * $ratio);
  $b = round($b1 * (1 - $ratio) + $b2 * $ratio);
  $hex = '#';
  $hex .= str_pad(dechex($r), 2, '0', STR_PAD_LEFT);
  $hex .= str_pad(dechex($g), 2, '0', STR_PAD_LEFT);
  $hex .= str_pad(dechex($b), 2, '0', STR_PAD_LEFT);
  return $hex;
}
`)}(${r5}, ${o5}, ${n4})`, g.Order.FUNCTION_CALL];
            }
            function Z(e5, t5) {
              return [`${t5.provideFunction_("colour_blend", `
def ${t5.FUNCTION_NAME_PLACEHOLDER_}(colour1, colour2, ratio):
  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)
  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)
  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)
  ratio = min(1, max(0, ratio))
  r = round(r1 * (1 - ratio) + r2 * ratio)
  g = round(g1 * (1 - ratio) + g2 * ratio)
  b = round(b1 * (1 - ratio) + b2 * ratio)
  return '#%02x%02x%02x' % (r, g, b)
`)}(${t5.valueToCode(e5, "COLOUR1", f.Order.NONE) || "'#000000'"}, ${t5.valueToCode(e5, "COLOUR2", f.Order.NONE) || "'#000000'"}, ${t5.valueToCode(e5, "RATIO", f.Order.NONE) || 0})`, f.Order.FUNCTION_CALL];
            }
            const ee = n3.common.createBlockDefinitionsFromJsonArray([X]), te = ee[Y];
            function re(e5 = {}) {
              c(), n3.common.defineBlocks(ee), e5.javascript && (e5.javascript.forBlock[Y] = W), e5.dart && (e5.dart.forBlock[Y] = z, e5.dart.addReservedWords("Math")), e5.lua && (e5.lua.forBlock[Y] = Q), e5.php && (e5.php.forBlock[Y] = J), e5.python && (e5.python.forBlock[Y] = Z);
            }
            function oe(e5 = {}) {
              k(e5), q(e5), B(e5), re(e5);
            }
          })(), d2;
        })(), e2.exports = o2(r2(370), r2(127), r2(379), r2(157), r2(537), r2(557));
      } }, l = {};
      function a(e2) {
        var t2 = l[e2];
        if (void 0 !== t2) return t2.exports;
        var r2 = l[e2] = { exports: {} };
        return s[e2].call(r2.exports, r2, r2.exports, a), r2.exports;
      }
      a.d = (e2, t2) => {
        for (var r2 in t2) a.o(t2, r2) && !a.o(e2, r2) && Object.defineProperty(e2, r2, { enumerable: true, get: t2[r2] });
      }, a.o = (e2, t2) => Object.prototype.hasOwnProperty.call(e2, t2), a.r = (e2) => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e2, "__esModule", { value: true });
      };
      var d = {};
      return (() => {
        "use strict";
        a.r(d), a.d(d, { FieldColourHsvSliders: () => o2 });
        var e2 = a(370), t2 = a(594);
        class r2 {
          constructor(e3 = 0, t3 = 0, r3 = 0) {
            this.r = e3, this.g = t3, this.b = r3;
          }
          static componentToHex(e3) {
            return e3 <= 0 ? "00" : e3 >= 1 ? "ff" : ("0" + (255 * e3 + 0.5 >>> 0).toString(16)).slice(-2);
          }
          toHex() {
            return "#" + r2.componentToHex(this.r) + r2.componentToHex(this.g) + r2.componentToHex(this.b);
          }
          loadFromHex(e3) {
            return this.r = parseInt(e3.slice(1, 3), 16) / 255, this.g = parseInt(e3.slice(3, 5), 16) / 255, this.b = parseInt(e3.slice(5, 7), 16) / 255, this;
          }
          loadFromHsv(e3) {
            const t3 = 6 * (e3.h - Math.floor(e3.h));
            return this.r = e3.v * (1 - e3.s * Math.max(0, Math.min(1, 2 - Math.abs(t3 - 3)))), this.g = e3.v * (1 - e3.s * Math.max(0, Math.min(1, Math.abs(t3 - 2) - 1))), this.b = e3.v * (1 - e3.s * Math.max(0, Math.min(1, Math.abs(t3 - 4) - 1))), this;
          }
        }
        class o2 extends t2.FieldColour {
          constructor() {
            super(...arguments), this.valueWhenEditorWasOpened = null, this.hsvBoundEvents = [], this.hueReadout = null, this.hueSlider = null, this.saturationReadout = null, this.saturationSlider = null, this.brightnessReadout = null, this.brightnessSlider = null, this.dropdownContainer = null;
          }
          showEditor_() {
            if (this.createDropdownSliders(), !this.dropdownContainer || !this.hueSlider) throw new Error("Failed to initialize the HSV sliders.");
            e2.DropDownDiv.getContentDiv().appendChild(this.dropdownContainer), e2.DropDownDiv.showPositionedByField(this, this.dropdownDisposeSliders.bind(this)), this.valueWhenEditorWasOpened = this.value_, this.hueSlider.focus({ preventScroll: true });
          }
          static createLabelInContainer(e3, t3) {
            const r3 = document.createElement("div"), o3 = document.createElement("span"), n2 = document.createElement("span");
            return r3.classList.add("fieldColourSliderLabel"), o3.textContent = e3, r3.appendChild(o3), r3.appendChild(n2), t3.appendChild(r3), n2;
          }
          static createSliderInContainer(e3, t3, r3) {
            const o3 = document.createElement("input");
            return o3.classList.add("fieldColourSlider"), o3.type = "range", o3.min = String(0), o3.max = String(e3), o3.step = String(t3), r3.appendChild(o3), o3;
          }
          createDropdownSliders() {
            const t3 = document.createElement("div");
            if (t3.classList.add("fieldColourSliderContainer"), this.hueReadout = o2.createLabelInContainer("Hue", t3), this.hueSlider = o2.createSliderInContainer(o2.HUE_SLIDER_MAX, 2, t3), this.saturationReadout = o2.createLabelInContainer("Saturation", t3), this.saturationSlider = o2.createSliderInContainer(o2.SATURATION_SLIDER_MAX, 1, t3), this.brightnessReadout = o2.createLabelInContainer("Brightness", t3), this.brightnessSlider = o2.createSliderInContainer(o2.BRIGHTNESS_SLIDER_MAX, 1, t3), this.hsvBoundEvents.push(e2.browserEvents.conditionalBind(this.hueSlider, "input", this, this.onSliderChange)), this.hsvBoundEvents.push(e2.browserEvents.conditionalBind(this.saturationSlider, "input", this, this.onSliderChange)), this.hsvBoundEvents.push(e2.browserEvents.conditionalBind(this.brightnessSlider, "input", this, this.onSliderChange)), window.EyeDropper) {
              const r3 = document.createElement("button");
              r3.classList.add("fieldColourEyedropper"), t3.appendChild(document.createElement("hr")), t3.appendChild(r3), this.hsvBoundEvents.push(e2.browserEvents.conditionalBind(r3, "click", this, this.onEyedropperEvent));
            }
            this.dropdownContainer = t3, this.updateSliderValues();
          }
          dropdownDisposeSliders() {
            for (const t3 of this.hsvBoundEvents) e2.browserEvents.unbind(t3);
            this.hsvBoundEvents.length = 0, this.hueReadout = null, this.hueSlider = null, this.saturationReadout = null, this.saturationSlider = null, this.brightnessReadout = null, this.brightnessSlider = null, this.dropdownContainer = null, this.sourceBlock_ && e2.Events.isEnabled() && null !== this.valueWhenEditorWasOpened && this.valueWhenEditorWasOpened !== this.value_ && (e2.Events.fire(new (e2.Events.get(e2.Events.BLOCK_CHANGE))(this.sourceBlock_, "field", this.name || null, this.valueWhenEditorWasOpened, this.value_)), this.valueWhenEditorWasOpened = null);
          }
          static hsvToHex(e3, t3, r3) {
            return o2.helperHsv.h = e3, o2.helperHsv.s = t3, o2.helperHsv.v = r3, o2.helperRgb.loadFromHsv(o2.helperHsv).toHex();
          }
          onSliderChange(e3) {
            if (!this.hueSlider || !this.saturationSlider || !this.brightnessSlider) throw new Error("The HSV sliders are missing.");
            const t3 = parseFloat(this.hueSlider.value) / o2.HUE_SLIDER_MAX, r3 = parseFloat(this.saturationSlider.value) / o2.SATURATION_SLIDER_MAX, n2 = parseFloat(this.brightnessSlider.value) / o2.BRIGHTNESS_SLIDER_MAX;
            this.setIntermediateValue(o2.hsvToHex(t3, r3, n2)), this.renderSliders();
          }
          onEyedropperEvent(e3) {
            window.EyeDropper && new window.EyeDropper().open().then((e4) => {
              this.setIntermediateValue(e4.sRGBHex), this.updateSliderValues();
            });
          }
          setIntermediateValue(t3) {
            const r3 = this.value_;
            this.setValue(t3, false), this.sourceBlock_ && e2.Events.isEnabled() && this.value_ !== r3 && e2.Events.fire(new (e2.Events.get(e2.Events.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_, this.name || null, r3, this.value_));
          }
          renderSliders() {
            if (!(this.hueSlider && this.hueReadout && this.saturationSlider && this.saturationReadout && this.brightnessSlider && this.brightnessReadout)) throw new Error("The HSV sliders are missing.");
            this.hueReadout.textContent = this.hueSlider.value, this.saturationReadout.textContent = this.saturationSlider.value, this.brightnessReadout.textContent = this.brightnessSlider.value;
            const e3 = parseFloat(this.hueSlider.value) / o2.HUE_SLIDER_MAX, t3 = parseFloat(this.saturationSlider.value) / o2.SATURATION_SLIDER_MAX, r3 = parseFloat(this.brightnessSlider.value) / o2.BRIGHTNESS_SLIDER_MAX;
            let n2 = "linear-gradient(to right, ";
            n2 += o2.hsvToHex(0, t3, r3) + ` ${o2.THUMB_RADIUS}px, `, n2 += o2.hsvToHex(1 / 6, t3, r3) + ", ", n2 += o2.hsvToHex(2 / 6, t3, r3) + ", ", n2 += o2.hsvToHex(0.5, t3, r3) + ", ", n2 += o2.hsvToHex(4 / 6, t3, r3) + ", ", n2 += o2.hsvToHex(5 / 6, t3, r3) + ", ", n2 += o2.hsvToHex(1, t3, r3) + ` calc(100% - ${o2.THUMB_RADIUS}px))`, this.hueSlider.style.setProperty("--slider-track-background", n2);
            let i2 = "linear-gradient(to right, ";
            i2 += o2.hsvToHex(e3, 0, r3) + ` ${o2.THUMB_RADIUS}px, `, i2 += o2.hsvToHex(e3, 1, r3) + ` calc(100% - ${o2.THUMB_RADIUS}px))`, this.saturationSlider.style.setProperty("--slider-track-background", i2);
            let s2 = "linear-gradient(to right, ";
            s2 += o2.hsvToHex(e3, t3, 0) + ` ${o2.THUMB_RADIUS}px, `, s2 += o2.hsvToHex(e3, t3, 1) + ` calc(100% - ${o2.THUMB_RADIUS}px))`, this.brightnessSlider.style.setProperty("--slider-track-background", s2);
          }
          updateSliderValues() {
            var e3;
            if (!this.hueSlider || !this.saturationSlider || !this.brightnessSlider) return;
            const t3 = o2.helperHsv.loadFromRgb(o2.helperRgb.loadFromHex(null !== (e3 = this.getValue()) && void 0 !== e3 ? e3 : ""));
            this.hueSlider.value = String(t3.h * o2.HUE_SLIDER_MAX), this.saturationSlider.value = String(t3.s * o2.SATURATION_SLIDER_MAX), this.brightnessSlider.value = String(t3.v * o2.BRIGHTNESS_SLIDER_MAX), this.renderSliders();
          }
        }
        o2.HUE_SLIDER_MAX = 360, o2.SATURATION_SLIDER_MAX = 100, o2.BRIGHTNESS_SLIDER_MAX = 100, o2.THUMB_RADIUS = 12, o2.helperHsv = new class {
          constructor(e3 = 0, t3 = 0, r3 = 0) {
            this.h = e3, this.s = t3, this.v = r3;
          }
          loadFromRgb(e3) {
            const t3 = Math.max(Math.max(e3.r, e3.g), e3.b), r3 = Math.min(Math.min(e3.r, e3.g), e3.b);
            if (this.v = t3, r3 === t3) return this.h = 0, this.s = 0, this;
            const o3 = t3 - r3;
            let n2;
            return this.s = o3 / t3, n2 = e3.r === t3 ? (e3.g - e3.b) / o3 : e3.g === t3 ? 2 + (e3.b - e3.r) / o3 : 4 + (e3.r - e3.g) / o3, n2 /= 6, this.h = n2 - Math.floor(n2), this;
          }
          copy(e3) {
            return this.h = e3.h, this.s = e3.s, this.v = e3.v, this;
          }
        }(), o2.helperRgb = new r2(), e2.fieldRegistry.register("field_colour_hsv_sliders", o2), e2.Css.register(`
.fieldColourSliderContainer {
  padding: 4px;
  font-family: Roboto, Arial, sans-serif;
  color: #5c5c5c;
}
.fieldColourSliderContainer hr {
  border: none;
  border-top: 1px solid #bbb;
}
.fieldColourSliderLabel {
  display: flex;
  justify-content: space-between;
}
.fieldColourEyedropper {
  appearance: none;
  position: relative;
  border: none;
  border-radius: 4px;
  background: transparent;
  font: inherit;
  color: inherit;
  cursor: pointer;
  width: 100%;
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}
.fieldColourEyedropper:hover {
  background: rgba(0,0,0,0.1)
}
.fieldColourEyedropper input {
  opacity: 0;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}
.fieldColourEyedropper::before {
  content: "Eyedropper";
}
.fieldColourEyedropper::after {
  content: "";
  margin-left: 8px;
  width: 24px;
  height: 24px;
  background: currentColor;
  pointer-events: none;
  -webkit-mask-image: var(--customize-dial-symbol);
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-image: var(--customize-dial-symbol);
  mask-repeat: no-repeat;
  mask-position: center;
  --customize-dial-symbol: url('data:image/svg+xml,    <svg xmlns="http://www.w3.org/2000/svg"          width="24px" height="24px"          viewBox="0 0 24 24">       <path stroke="black" strokewidth="1.414" fill="none"             d="m 13 8 L 6 15 Q 3 18 2 21 Q 0 23 .5 23.5 Q 1 24 3 22                 Q 6 21 9 18 L 16 11"/>       <path fill="black"             d="m 12 7 Q 11 6 12 5 Q 13 4 14 5 Q 15 6 16 5 Q 20 -1 22.5 1.5                 Q 25 4 19 8 Q 18 9 19 10 Q 20 11 19 12 Q 18 13 17 12"/>     </svg>');
}
.fieldColourSlider {
  -webkit-appearance: none;
  width: 150px;
  height: 24px;
  margin: 4px 8px 24px 8px;
  padding: 0;
}
.fieldColourSlider:last-child {
  margin-bottom: 4px;
}
.fieldColourSlider:focus {
  outline: none;
}
/* Webkit */
.fieldColourSlider::-webkit-slider-runnable-track {
  background: var(--slider-track-background);
  border-radius: 8px;
  height: 16px;
}
.fieldColourSlider::-webkit-slider-thumb {
  -webkit-appearance: none;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 0 0 4px rgba(0,0,0,.15);
  cursor: pointer;
  width: ${2 * o2.THUMB_RADIUS}px;
  height: ${2 * o2.THUMB_RADIUS}px;
  margin-top: -4px;
}
/* Firefox */
.fieldColourSlider::-moz-range-track {
  background: var(--slider-track-background);
  border-radius: 8px;
  height: 16px;
}
.fieldColourSlider::-moz-range-thumb {
  background: #fff;
  border: none;
  border-radius: 50%;
  box-shadow: 0 0 0 4px rgba(0,0,0,.15);
  cursor: pointer;
  width: ${2 * o2.THUMB_RADIUS}px;
  height: ${2 * o2.THUMB_RADIUS}px;
}
.fieldColourSlider::-moz-focus-outer {
  /* override the focus border style */
  border: 0;
}
/* IE */
.fieldColourSlider::-ms-track {
  background: var(--slider-track-background);
  border-radius: 12px;
  width: 100%;
  height: 24px;
  /* remove default tick marks */
  color: transparent;
}
.fieldColourSlider::-ms-fill-lower  {
  background: transparent;
}
.fieldColourSlider::-ms-fill-upper  {
  background: transparent;
}
.fieldColourSlider::-ms-thumb {
  background: #fff;
  border: none;
  border-radius: 50%;
  box-shadow: 0 0 0 4px rgba(0,0,0,.15);
  cursor: pointer;
  width: ${2 * o2.THUMB_RADIUS}px;
  height: ${2 * o2.THUMB_RADIUS}px;
}
`);
      })(), d;
    })());
  }
});
export default require_dist();
/*! Bundled license information:

@blockly/field-colour-hsv-sliders/dist/index.js:
  (*! For license information please see index.js.LICENSE.txt *)
*/
//# sourceMappingURL=@blockly_field-colour-hsv-sliders.js.map
