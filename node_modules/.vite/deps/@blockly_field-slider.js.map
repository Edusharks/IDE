{
  "version": 3,
  "sources": ["webpack://@blockly/field-slider/webpack/universalModuleDefinition", "webpack://@blockly/field-slider/external%20umd%20%7B%22root%22:%22Blockly%22,%22commonjs%22:%22blockly/core%22,%22commonjs2%22:%22blockly/core%22,%22amd%22:%22blockly/core%22%7D", "webpack://@blockly/field-slider/webpack/bootstrap", "webpack://@blockly/field-slider/webpack/runtime/define%20property%20getters", "webpack://@blockly/field-slider/webpack/runtime/hasOwnProperty%20shorthand", "webpack://@blockly/field-slider/webpack/runtime/make%20namespace%20object", "webpack://@blockly/field-slider/src/field_slider.ts"],
  "sourcesContent": ["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"blockly/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"blockly/core\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"blockly/core\")) : factory(root[\"Blockly\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, (__WEBPACK_EXTERNAL_MODULE__370__) => {\nreturn ", "module.exports = __WEBPACK_EXTERNAL_MODULE__370__;", "// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n", "// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};", "__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))", "// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};", "/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Number slider input field.\n * @author kozbial@google.com (Monica Kozbial)\n */\n\nimport * as Blockly from 'blockly/core';\n\n/**\n * A config object for defining a field slider.\n */\nexport type FieldSliderConfig = Blockly.FieldNumberConfig;\n\n/**\n * Options used to define a field slider from JSON.\n */\nexport interface FieldSliderOptions extends FieldSliderConfig {\n  value?: string | number;\n}\n\nexport type FieldSliderValidator = Blockly.FieldNumberValidator;\n\n/**\n * Slider field.\n */\nexport class FieldSlider extends Blockly.FieldNumber {\n  /**\n   * Array holding info needed to unbind events.\n   * Used for disposing.\n   * Ex: [[node, name, func], [node, name, func]].\n   */\n  private boundEvents: Blockly.browserEvents.Data[] = [];\n\n  /**\n   * The HTML range input element.\n   */\n  private sliderInput: HTMLInputElement | null = null;\n\n  /**\n   * Class for an number slider field.\n   *\n   * @param value The initial value of the field. Should\n   *    cast to a number. Defaults to 0.\n   * @param min Minimum value.\n   * @param max Maximum value.\n   * @param precision Precision for value.\n   * @param validator A function that is called to validate\n   *    changes to the field's value. Takes in a number & returns a validated\n   *    number, or null to abort the change.\n   * @param config A map of options used to configure the field.\n   *    See the [field creation documentation]{@link\n   * https://developers.google.com/blockly/guides/create-custom-blocks/fields/built-in-fields/number#creation}\n   *    for a list of properties this parameter supports.\n   */\n  constructor(\n    value?: string | number,\n    min?: string | number,\n    max?: string | number,\n    precision?: string | number,\n    validator?: FieldSliderValidator,\n    config?: FieldSliderConfig,\n  ) {\n    super(value, min, max, precision, validator, config);\n  }\n\n  /**\n   * Constructs a FieldSlider from a JSON arg object.\n   *\n   * @param options A JSON object with options\n   *     (value, min, max, precision).\n   * @returns The new field instance.\n   * @package\n   * @nocollapse\n   */\n  static fromJson(options: FieldSliderOptions): FieldSlider {\n    // `this` might be a subclass of FieldSlider if that class doesn't override\n    // the static fromJson method.\n    return new this(\n      options.value,\n      undefined,\n      undefined,\n      undefined,\n      undefined,\n      options,\n    );\n  }\n\n  /* eslint-disable @typescript-eslint/naming-convention */\n  /**\n   * Show the inline free-text editor on top of the text along with the slider\n   * editor.\n   *\n   * @param e Optional mouse event that triggered the field to\n   *     open, or undefined if triggered programmatically.\n   * @param quietInput Quiet input (prevent focusing on the editor).\n   */\n  protected showEditor_(e?: Event, quietInput?: boolean) {\n    // Always quiet the input for the super constructor, as we don't want to\n    // focus on the text field, and we don't want to display the modal\n    // editor on mobile devices. Also, don't let the parent take ephemeral focus\n    // since the drop-down div below will handle it, instead.\n    super.showEditor_(e, true, false);\n\n    // Build the DOM.\n    const editor = this.dropdownCreate_();\n\n    Blockly.DropDownDiv.getContentDiv().appendChild(editor);\n    const sourceBlock = this.getSourceBlock();\n    if (sourceBlock instanceof Blockly.BlockSvg) {\n      const primary = sourceBlock.getColour() || '';\n      const tertiary = sourceBlock.getColourTertiary() || '';\n      Blockly.DropDownDiv.setColour(primary, tertiary);\n    }\n\n    Blockly.DropDownDiv.showPositionedByField(\n      this,\n      this.dropdownDispose_.bind(this),\n    );\n\n    // Focus on the slider field, unless quietInput is passed.\n    if (!quietInput) {\n      (editor.firstChild as HTMLInputElement).focus({\n        preventScroll: true,\n      });\n    }\n  }\n\n  /**\n   * Updates the slider when the field rerenders.\n   */\n  protected render_() {\n    super.render_();\n    this.updateSlider_();\n  }\n\n  /**\n   * Creates the slider editor and add event listeners.\n   *\n   * @returns The newly created slider.\n   */\n  private dropdownCreate_(): HTMLElement {\n    const wrapper = document.createElement('div') as HTMLElement;\n    wrapper.className = 'fieldSliderContainer';\n    const sliderInput = document.createElement('input');\n    sliderInput.setAttribute('type', 'range');\n    sliderInput.setAttribute('min', `${this.min_}`);\n    sliderInput.setAttribute('max', `${this.max_}`);\n    sliderInput.setAttribute('step', `${this.precision_}`);\n    sliderInput.setAttribute('value', `${this.getValue()}`);\n    sliderInput.setAttribute('tabindex', '0');\n    sliderInput.className = 'fieldSlider';\n    wrapper.appendChild(sliderInput);\n    this.sliderInput = sliderInput;\n\n    this.boundEvents.push(\n      Blockly.browserEvents.conditionalBind(\n        sliderInput,\n        'input',\n        this,\n        this.onSliderChange_,\n      ),\n    );\n\n    return wrapper;\n  }\n\n  /**\n   * Disposes of events belonging to the slider editor.\n   */\n  private dropdownDispose_() {\n    for (const event of this.boundEvents) {\n      Blockly.browserEvents.unbind(event);\n    }\n    this.boundEvents.length = 0;\n    this.sliderInput = null;\n  }\n\n  /**\n   * Sets the text to match the slider's position.\n   */\n  private onSliderChange_() {\n    // Intermediate value changes from user input are not confirmed until the\n    // user closes the editor, and may be numerous. Inhibit reporting these as\n    // normal block change events, and instead report them as special\n    // intermediate changes that do not get recorded in undo history.\n    const oldValue = this.value_;\n    this.setEditorValue_(this.sliderInput?.value, false);\n    if (this.getSourceBlock()) {\n      Blockly.Events.fire(\n        new (Blockly.Events.get(\n          Blockly.Events.BLOCK_FIELD_INTERMEDIATE_CHANGE,\n        ))(this.sourceBlock_, this.name || null, oldValue, this.value_),\n      );\n    }\n    this.resizeEditor_();\n  }\n\n  /**\n   * Updates the slider when the field rerenders.\n   */\n  private updateSlider_() {\n    if (!this.sliderInput) {\n      return;\n    }\n    this.sliderInput.setAttribute('value', `${this.getValue()}`);\n  }\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nBlockly.fieldRegistry.register('field_slider', FieldSlider);\n\n/**\n * CSS for slider field.\n */\nBlockly.Css.register(`\n.fieldSliderContainer {\n  align-items: center;\n  display: flex;\n  height: 32px;\n  justify-content: center;\n  width: 150px;\n}\n.fieldSlider {\n  -webkit-appearance: none;\n  background: transparent; /* override white in chrome */\n  margin: 4px;\n  padding: 0;\n  width: 100%;\n}\n.fieldSlider:focus {\n  outline: none;\n}\n/* Webkit */\n.fieldSlider::-webkit-slider-runnable-track {\n  background: #ddd;\n  border-radius: 5px;\n  height: 10px;\n}\n.fieldSlider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  background: #fff;\n  border-radius: 50%;\n  box-shadow: 0 0 0 4px rgba(255,255,255,.15);\n  cursor: pointer;\n  height: 24px;\n  margin-top: -7px;\n  width: 24px;\n}\n/* Firefox */\n.fieldSlider::-moz-range-track {\n  background: #ddd;\n  border-radius: 5px;\n  height: 10px;\n}\n.fieldSlider::-moz-range-thumb {\n  background: #fff;\n  border: none;\n  border-radius: 50%;\n  box-shadow: 0 0 0 4px rgba(255,255,255,.15);\n  cursor: pointer;\n  height: 24px;\n  width: 24px;\n}\n.fieldSlider::-moz-focus-outer {\n  /* override the focus border style */\n  border: 0;\n}\n/* IE */\n.fieldSlider::-ms-track {\n  /* IE wont let the thumb overflow the track, so fake it */\n  background: transparent;\n  border-color: transparent;\n  border-width: 15px 0;\n  /* remove default tick marks */\n  color: transparent;\n  height: 10px;\n  width: 100%;\n  margin: -4px 0;\n}\n.fieldSlider::-ms-fill-lower  {\n  background: #ddd;\n  border-radius: 5px;\n}\n.fieldSlider::-ms-fill-upper  {\n  background: #ddd;\n  border-radius: 5px;\n}\n.fieldSlider::-ms-thumb {\n  background: #fff;\n  border: none;\n  border-radius: 50%;\n  box-shadow: 0 0 0 4px rgba(255,255,255,.15);\n  cursor: pointer;\n  height: 24px;\n  width: 24px;\n}\n`);\n"],
  "mappings": "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",
  "names": ["root", "factory", "exports", "module", "require", "define", "amd", "a", "i", "this", "__WEBPACK_EXTERNAL_MODULE__370__", "__webpack_module_cache__", "__webpack_require__", "moduleId", "cachedModule", "__webpack_modules__", "d", "definition", "key", "o", "Object", "defineProperty", "enumerable", "get", "obj", "prop", "prototype", "hasOwnProperty", "call", "r", "Symbol", "toStringTag", "value", "FieldSlider", "min", "max", "precision", "validator", "config", "super", "boundEvents", "sliderInput", "options", "undefined", "e", "quietInput", "showEditor_", "editor", "dropdownCreate_", "getContentDiv", "appendChild", "sourceBlock", "getSourceBlock", "primary", "getColour", "tertiary", "getColourTertiary", "setColour", "showPositionedByField", "dropdownDispose_", "bind", "firstChild", "focus", "preventScroll", "render_", "updateSlider_", "wrapper", "document", "createElement", "className", "setAttribute", "min_", "max_", "precision_", "getValue", "push", "conditionalBind", "onSliderChange_", "event", "unbind", "length", "oldValue", "value_", "setEditorValue_", "fire", "BLOCK_FIELD_INTERMEDIATE_CHANGE", "sourceBlock_", "name", "resizeEditor_", "register"]
}
